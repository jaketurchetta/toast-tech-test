{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport '../client/dist/css/main.css';\nimport { GOOGLE_API_KEY, WEATHER_API_KEY } from '../config.js';\nimport axios from 'axios';\nimport Header from './Header.jsx';\nimport Search from './Search.jsx';\nimport Week from './Week.jsx';\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      zip: '02130',\n      city: 'Boston',\n      state: 'MA',\n      lat: 42.35659589999999,\n      lng: -71.0564828,\n      dailyWeather: []\n    };\n    _this.getGeolocation = _this.getGeolocation.bind(_assertThisInitialized(_this));\n    _this.getAddress = _this.getAddress.bind(_assertThisInitialized(_this));\n    _this.getWeather = _this.getWeather.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.validateInput = _this.validateInput.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getGeolocation(this.getWeather);\n    } // HTTP REQUESTS\n\n  }, {\n    key: \"getGeolocation\",\n    value: function getGeolocation(callback) {\n      var _this2 = this;\n\n      axios.get('http://www.geoplugin.net/json.gp').then(function (response) {\n        _this2.setState({\n          lat: response.data.geoplugin_latitude,\n          lng: response.data.geoplugin_longitude,\n          city: response.data.geoplugin_city,\n          state: response.data.geoplugin_regionCode,\n          zip: ''\n        });\n      }).then(callback())[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"getAddress\",\n    value: function getAddress(zip, callback) {\n      var _this3 = this;\n\n      axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?address=\".concat(zip, \"&key=\").concat(GOOGLE_API_KEY)).then(function (response) {\n        _this3.setState({\n          zip: response.data.results[0].address_components[0].short_name,\n          city: response.data.results[0].address_components[1].long_name,\n          state: response.data.results[0].address_components[3].short_name,\n          lat: response.data.results[0].geometry.location.lat,\n          lng: response.data.results[0].geometry.location.lng\n        });\n      }).then(callback())[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"getWeather\",\n    value: function getWeather() {\n      var _this4 = this;\n\n      axios.get(\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(this.state.lat, \"&lon=\").concat(this.state.lng, \"&exclude=minutely,hourly&appid=\").concat(WEATHER_API_KEY, \"&units=imperial\")).then(function (response) {\n        _this4.setState({\n          dailyWeather: response.data.daily.slice(0, 7)\n        });\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    } // FORM HANDLERS\n\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        zip: event.target.value\n      });\n    }\n  }, {\n    key: \"validateInput\",\n    value: function validateInput(input) {\n      var num = Number(input);\n      var len = input.length;\n\n      if (isNaN(num) || len !== 5) {\n        alert('Please enter a valid 5-digit ZIP code.');\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n\n      if (this.validateInput(this.state.zip)) {\n        this.getAddress(this.state.zip, this.getWeather);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"appcontainer\"\n      }, __jsx(Header, {\n        city: this.state.city,\n        state: this.state.state\n      }), __jsx(Search, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit\n      }), __jsx(Week, {\n        weather: this.state.dailyWeather\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/jaketurchetta/Desktop/PersonalProjects/tech-test/pages/_app.jsx"],"names":["React","GOOGLE_API_KEY","WEATHER_API_KEY","axios","Header","Search","Week","App","props","state","zip","city","lat","lng","dailyWeather","getGeolocation","bind","getAddress","getWeather","handleChange","validateInput","handleSubmit","callback","get","then","response","setState","data","geoplugin_latitude","geoplugin_longitude","geoplugin_city","geoplugin_regionCode","err","console","log","results","address_components","short_name","long_name","geometry","location","daily","slice","event","target","value","input","num","Number","len","length","isNaN","alert","preventDefault","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport '../client/dist/css/main.css'\nimport { GOOGLE_API_KEY, WEATHER_API_KEY } from '../config.js'\nimport axios from 'axios'\nimport Header from './Header.jsx'\nimport Search from './Search.jsx'\nimport Week from './Week.jsx'\n\nexport default class App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      zip: '02130',\n      city: 'Boston',\n      state: 'MA',\n      lat: 42.35659589999999,\n      lng: -71.0564828,\n      dailyWeather: []\n    }\n    this.getGeolocation = this.getGeolocation.bind(this)\n    this.getAddress = this.getAddress.bind(this)\n    this.getWeather = this.getWeather.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.validateInput = this.validateInput.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  componentDidMount() {\n    this.getGeolocation(this.getWeather)\n  }\n\n  // HTTP REQUESTS\n  getGeolocation(callback) {\n    axios.get('http://www.geoplugin.net/json.gp')\n      .then(response => {\n        this.setState({\n          lat: response.data.geoplugin_latitude,\n          lng: response.data.geoplugin_longitude,\n          city: response.data.geoplugin_city,\n          state: response.data.geoplugin_regionCode,\n          zip: ''\n        })\n      })\n      .then(callback())\n      .catch(err => console.log(err))\n  }\n\n  getAddress(zip, callback) {\n    axios.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${zip}&key=${GOOGLE_API_KEY}`)\n      .then(response => {\n        this.setState({\n            zip: response.data.results[0].address_components[0].short_name,\n            city: response.data.results[0].address_components[1].long_name,\n            state: response.data.results[0].address_components[3].short_name,\n            lat: response.data.results[0].geometry.location.lat,\n            lng: response.data.results[0].geometry.location.lng,\n        })\n      })\n      .then(callback())\n      .catch(err => console.log(err))\n  }\n\n  getWeather() {\n    axios.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${this.state.lat}&lon=${this.state.lng}&exclude=minutely,hourly&appid=${WEATHER_API_KEY}&units=imperial`)\n      .then(response => {\n        this.setState({\n          dailyWeather: response.data.daily.slice(0,7)\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  // FORM HANDLERS\n  handleChange(event) {\n    this.setState({zip: event.target.value})\n  }\n\n  validateInput(input) {\n    let num = Number(input)\n    let len = input.length\n    if (isNaN(num) || len !== 5) {\n      alert('Please enter a valid 5-digit ZIP code.')\n      return false\n    }\n    return true\n  }\n\n  handleSubmit(event) {\n    event.preventDefault()\n    if (this.validateInput(this.state.zip)) {\n      this.getAddress(this.state.zip, this.getWeather)\n    }\n  }\n\n  render() {\n    return (\n      <div className='appcontainer'>\n        <Header city={this.state.city} state={this.state.state} />\n        <Search handleChange={this.handleChange} handleSubmit={this.handleSubmit} />\n        <Week weather={this.state.dailyWeather} />\n      </div>\n    )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}